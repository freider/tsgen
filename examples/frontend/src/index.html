<body>
<h2>Test results</h2>
<table>

</table>
<script type="module">
  import tests from "./tests";

  tests.forEach(([testName, testFunc]) => {
    const table = document.getElementsByTagName('table')[0];
    const row = document.createElement('tr');
    const label = document.createElement('td');

    label.appendChild(document.createTextNode(testName));
    label.setAttribute('style', 'background-color: yellow;')
    row.appendChild(label);
    table.appendChild(row);

    testFunc().then((result) => {
      const resultColor = result? 'green': 'red';
      label.setAttribute('style', `background-color: ${resultColor}`)
    });
  })
</script>
</body>
